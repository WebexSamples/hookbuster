'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

require('../constants');

var hostUtils = {};

/**
 * parse the relevant host values that we care about: id
 * @param {Object} host
 * @returns {Object} parsed host or null if host was undefined
 */
hostUtils.parse = function (host) {
  if (host) {
    return {
      hostId: hostUtils.getId(host)
    };
  }

  return null;
};

/**
 * get the previous and current host values parsed, as well as the boolean updates
 * @param {Object} oldHost
 * @param {Object} newHost
 * @returns {Object}
 * previous: {Object} old host, current: {Object} new host, updates: {isNewHost: {boolean}} boolean update values
 */
hostUtils.getHosts = function (oldHost, newHost) {
  var previous = oldHost && hostUtils.parse(oldHost);
  var current = newHost && hostUtils.parse(newHost);

  return {
    previous: previous,
    current: current,
    updates: {
      isNewHost: previous && current ? hostUtils.isDifferentHosts(previous.hostId, current.hostId) : true
    }
  };
};

/**
 * determine by id if 2 hosts are different
 * @param {String} previousId
 * @param {String} currentId
 * @returns {Boolean}
 */
hostUtils.isDifferentHosts = function (previousId, currentId) {
  return previousId !== currentId;
};

/**
 * Extract the id from the host object
 * @param {Object} host
 * @returns {String}
 */
hostUtils.getId = function (host) {
  if (!host) {
    return null;
  }

  return host.id;
};

exports.default = hostUtils;
//# sourceMappingURL=hostUtils.js.map
